webpackJsonp([1],{0:function(t,n,e){t.exports=e("cDNt")},cDNt:function(t,n,e){"use strict";function i(t){return w._23(0,[w._20(402653184,1,{canvasArea:0}),(t()(),w._7(1,0,[[1,0],["canvasArea",1]],null,2,"canvas",[["class","canvasArea"]],null,[[null,"mbTouchMe"],[null,"mousewheel"],[null,"pointerdown"],[null,"pointerup"]],function(t,n,e){var i=!0,o=t.component;if("pointerdown"===n){i=!1!==w._19(t,2).onPointerDown(e)&&i}if("pointerup"===n){i=!1!==w._19(t,2).onPointerUp()&&i}if("mbTouchMe"===n){i=!1!==o.onTouched(e)&&i}if("mousewheel"===n){i=!1!==o.onMouseWheelChrome(e)&&i}return i},null,null)),w._5(2,147456,null,0,m,[],null,{mbTouchMe:"mbTouchMe"}),(t()(),w._22(-1,null,["\n"])),(t()(),w._22(-1,null,["\n"])),(t()(),w._7(5,0,null,null,7,"div",[["class","buttonArea"]],null,null,null,null,null)),(t()(),w._22(-1,null,["\n        "])),(t()(),w._7(7,0,null,null,1,"div",[["class","button"]],null,[[null,"click"]],function(t,n,e){var i=!0,o=t.component;if("click"===n){i=!1!==o.onSaveButtonClick()&&i}return i},null,null)),(t()(),w._22(-1,null,["Download"])),(t()(),w._22(-1,null,["\n        "])),(t()(),w._7(10,0,null,null,1,"div",[["class","button"]],null,[[null,"click"]],function(t,n,e){var i=!0,o=t.component;if("click"===n){i=!1!==o.onResetButtonClick()&&i}return i},null,null)),(t()(),w._22(-1,null,["Reset"])),(t()(),w._22(-1,null,["\n"])),(t()(),w._22(-1,null,["\n"]))],null,null)}function o(t){return w._23(0,[(t()(),w._7(0,0,null,null,1,"mb-draw-area",[],null,null,null,i,E)),w._5(1,114688,null,0,z,[w.k],null,null)],function(t,n){t(n,1,0)},null)}function l(t){return I._23(0,[(t()(),I._7(0,0,null,null,1,"mb-draw-area",[],null,null,null,i,E)),I._5(1,114688,null,0,z,[I.k],null,null)],function(t,n){t(n,1,0)},null)}function r(t){return I._23(0,[(t()(),I._7(0,0,null,null,1,"mb-root",[],null,null,null,l,T)),I._5(1,49152,null,0,u,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var a,s={production:!0},h=function(){function t(){}return t}(),u=function(){function t(){}return t}(),c=["*[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px}"],f=[".canvasArea{border:1px solid #000}.buttonArea{display:-webkit-box;display:-ms-flexbox;display:flex}.button{width:100px;padding:5px 20px;margin-right:5px;text-align:center;background-color:#d3d3d3;border:1px solid #000}"],_={_16x9:{zStart:{real:-3,imag:-1.35},zEnd:{real:1.8,imag:1.35},xs:{width:800,height:450},s:{width:1280,height:720},m:{width:1920,height:1080},l:{width:4800,height:2700},xl:{width:9600,height:5400}},_16x10:{zStart:{real:-3,imag:-1.5},zEnd:{real:1.8,imag:1.5},xs:{width:800,height:500},s:{width:1280,height:800},m:{width:1920,height:1200},l:{width:4800,height:3e3},xl:{width:9600,height:6e3}},_48x10:{zStart:{real:-10,imag:-1.5},zEnd:{real:4.4,imag:1.5},xs:{width:1920,height:400},s:{width:3840,height:800},m:{width:5760,height:1200},l:{width:11520,height:2400},xl:{width:17280,height:3600}}},p=function(){function t(n,e,i){if(this._colors=[],this._intervalSize=Math.round(e),this._intervalCount=n.length-1,this._shift=i||0,this._intervalSize<1||this._intervalCount<1)throw new Error("intervalSize invalid");this._intervalsEnd=this._intervalCount*this._intervalSize;for(var o=0;o<n.length-1;o++)for(var l=n[o],r=n[o+1],a=t.evaluateInterval(o*this._intervalSize,(o+1)*this._intervalSize,l.r,r.r),s=t.evaluateInterval(o*this._intervalSize,(o+1)*this._intervalSize,l.g,r.g),h=t.evaluateInterval(o*this._intervalSize,(o+1)*this._intervalSize,l.b,r.b),u=0;u<a.length;u++)this._colors.push({r:Math.round(a[u]),g:Math.round(s[u]),b:Math.round(h[u])})}return t.evaluateInterval=function(t,n,e,i){if(e==i)return Array.apply(null,{length:n-t}).map(function(){return e});for(var o=[],l=t;l<n;l++)o.push(.5*((e-i)*Math.cos(Math.PI*(l-t)/(t-n))+e+i));return o},t.prototype.getColor=function(t){t+=this._shift;var n=t%this._intervalsEnd;return this._colors[n]},t.prototype.print=function(){var t=this,n=0,e=0;this._colors.forEach(function(i){0==n&&console.log("INTERVAL "+e++),console.log(i),n++,n%=t._intervalSize})},t}(),g=e("/oeL");!function(t){t[t.SINGLE_TAP=0]="SINGLE_TAP",t[t.DOUBLE_TAP=1]="DOUBLE_TAP",t[t.LONG_TAP=2]="LONG_TAP"}(a||(a={}));var d;!function(t){t[t.IDLE=0]="IDLE",t[t.ACTIVE=1]="ACTIVE",t[t.DONE=2]="DONE"}(d||(d={}));var m=function(){function t(){this.state=d.IDLE,this.pointerCnt=0,this.timerRef=0,this.mbTouchMe=new g.m}return t.prototype.ngOnDestroy=function(){clearTimeout(this.timerRef)},t.prototype.onPointerDown=function(t){var n=this;this.pointerCnt||(this.pointerCnt++,this.lastPointerEvent=t,this.isActive?(this.finish(),this.emitTouch(a.DOUBLE_TAP),this.reset()):(this.activate(),this.timerRef=setTimeout(function(){n.emitTouch(a.LONG_TAP),n.finish()},251)))},t.prototype.onPointerUp=function(t){var n=this;1===this.pointerCnt&&(this.pointerCnt--,clearTimeout(this.timerRef),this.isActive&&(this.timerRef=setTimeout(function(){n.finish(),n.emitTouch(a.SINGLE_TAP),n.reset()},251)),this.reset())},t.prototype.activate=function(){this.stateTransfer(d.IDLE,d.ACTIVE)},t.prototype.finish=function(){this.stateTransfer(d.ACTIVE,d.DONE)},t.prototype.reset=function(){this.stateTransfer(d.DONE,d.IDLE)},t.prototype.stateTransfer=function(t,n){this.state===t&&(this.state=n)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this.state===d.ACTIVE},enumerable:!0,configurable:!0}),t.prototype.emitTouch=function(t){this.mbTouchMe.emit({type:t,offsetX:this.lastPointerEvent.offsetX,offsetY:this.lastPointerEvent.offsetY})},t.ctorParameters=function(){return[]},t}(),v=e("/oeL"),b=e("bbdN"),z=(e.n(b),function(){function t(t){this.element=t,this.RES=_._16x10,this.DIM=this.RES.s,this.colorMap=new p([{r:0,g:0,b:0},{r:255,g:255,b:255},{r:0,g:0,b:0}],256);var n;try{n=JSON.parse(window.location.hash.substr(1))}catch(t){n={zStart:this.RES.zStart,zEnd:this.RES.zEnd,zoomLevel:1}}this.setPlane(n.zStart,n.zEnd,n.zoomLevel)}return t.isInMbMaybe=function(t,n,e){for(var i,o,l=t.real,r=t.imag,a=0;a<n;a++){if(i=l*l-r*r,o=2*l*r,i+=t.real,o+=t.imag,Math.sqrt(i*i+o*o)>2)return e.getColor(a);l=i,r=o}return{r:0,g:0,b:0}},t.prototype.ngOnInit=function(){this.canvasArea.nativeElement.width=this.DIM.width,this.canvasArea.nativeElement.height=this.DIM.height,this.calcAndDraw()},t.prototype.onMouseWheelChrome=function(t){var n=t.deltaY<0,e={x:t.offsetX,y:t.offsetY};n?this.zoomIn(e):this.zoomOut(e)},t.prototype.onTouched=function(t){switch(console.log("event ",t),t.type){case a.SINGLE_TAP:this.panZoom({x:t.offsetX,y:t.offsetY},1,this.config.zoomLevel);break;case a.DOUBLE_TAP:this.zoomIn({x:t.offsetX,y:t.offsetY});break;case a.LONG_TAP:this.zoomOut({x:t.offsetX,y:t.offsetY})}},t.prototype.onSaveButtonClick=function(){var t=this;this.canvasArea.nativeElement.toBlob(function(n){var e="MB_zStart_r_"+t.config.zStart.real+"_i_"+t.config.zStart.imag+"_zEnd_r_"+t.config.zEnd.real+"_i_"+t.config.zEnd.imag+"_zoomLevel_"+t.config.zoomLevel+".png";console.info("Saving as: "+e),Object(b.saveAs)(n,e)})},t.prototype.onResetButtonClick=function(){window.location.href=window.location.pathname},t.prototype.calcAndDraw=function(){var n=this.canvasArea.nativeElement.getContext("2d"),e=n.getImageData(0,0,this.DIM.width,this.DIM.height),i=this.config.zoomLevel<2?255:255+32*this.config.zoomLevel,o=new ArrayBuffer(e.data.length),l=new Uint8ClampedArray(o),r=new Uint32Array(o),a=0;console.clear();for(var s=0;s<this.DIM.height;s++){a>99&&(console.info("calculating: "+Math.round(100*s/this.DIM.height)+"%"),a=0),a++;for(var h=0;h<this.DIM.width;h++){var u=this.pixelToMath({x:h,y:s}),c=t.isInMbMaybe(u,i,this.colorMap);r[s*this.DIM.width+h]=255<<24|c.b<<16|c.g<<8|c.r}}e.data.set(l),n.putImageData(e,0,0)},t.prototype.zoomIn=function(t){this.panZoom(t,.5,this.config.zoomLevel+1)},t.prototype.zoomOut=function(t){this.panZoom(t,2,this.config.zoomLevel-1)},t.prototype.panZoom=function(t,n,e){var i=n*this.DIM.width/2,o=n*this.DIM.height/2,l={x:t.x-i,y:t.y+o},r={x:t.x+i,y:t.y-o};this.setPlane(this.pixelToMath(l),this.pixelToMath(r),e),this.calcAndDraw()},t.prototype.setPlane=function(t,n,e){this.config={zStart:t,zEnd:n,zoomLevel:e},this.zRange={real:n.real-t.real,imag:n.imag-t.imag},this.setConfig()},t.prototype.setConfig=function(){var t={zStart:this.config.zStart,zEnd:this.config.zEnd,zoomLevel:this.config.zoomLevel};window.location.hash=JSON.stringify(t)},t.prototype.pixelToMath=function(t){return{real:this.zRange.real*t.x/this.DIM.width+this.config.zStart.real,imag:this.config.zEnd.imag-this.zRange.imag*t.y/this.DIM.height}},t.ctorParameters=function(){return[{type:v.k}]},t}()),w=e("/oeL"),y=[f],E=w._4({encapsulation:2,styles:y,data:{}}),I=(w._2("mb-draw-area",z,o,{},{},[]),e("/oeL")),M=[c],T=I._4({encapsulation:0,styles:M,data:{}}),x=I._2("mb-root",u,r,{},{},[]),A=e("/oeL"),D=e("qbdv"),S=e("fc+i"),L=e("bm2B"),P=e("CPp0"),C=A._3(h,[u],function(t){return A._17([A._18(512,A.i,A._0,[[8,[x]],[3,A.i],A.x]),A._18(5120,A.v,A._16,[[3,A.v]]),A._18(4608,D.d,D.c,[A.v]),A._18(4608,A.h,A.h,[]),A._18(5120,A.a,A._8,[]),A._18(5120,A.t,A._13,[]),A._18(5120,A.u,A._14,[]),A._18(4608,S.b,S.s,[D.b]),A._18(6144,A.J,null,[S.b]),A._18(4608,S.e,S.f,[]),A._18(5120,S.c,function(t,n,e,i){return[new S.k(t),new S.o(n),new S.n(e,i)]},[D.b,D.b,D.b,S.e]),A._18(4608,S.d,S.d,[S.c,A.z]),A._18(135680,S.m,S.m,[D.b]),A._18(4608,S.l,S.l,[S.d,S.m]),A._18(6144,A.H,null,[S.l]),A._18(6144,S.p,null,[S.m]),A._18(4608,A.O,A.O,[A.z]),A._18(4608,S.g,S.g,[D.b]),A._18(4608,S.i,S.i,[D.b]),A._18(4608,L.c,L.c,[]),A._18(4608,P.c,P.c,[]),A._18(4608,P.g,P.b,[]),A._18(5120,P.i,P.j,[]),A._18(4608,P.h,P.h,[P.c,P.g,P.i]),A._18(4608,P.f,P.a,[]),A._18(5120,P.d,P.k,[P.h,P.f]),A._18(512,D.a,D.a,[]),A._18(1024,A.l,S.q,[]),A._18(1024,A.b,function(t,n){return[S.r(t,n)]},[[2,S.h],[2,A.y]]),A._18(512,A.c,A.c,[[2,A.b]]),A._18(131584,A._6,A._6,[A.z,A._1,A.r,A.l,A.i,A.c]),A._18(2048,A.e,null,[A._6]),A._18(512,A.d,A.d,[A.e]),A._18(512,S.a,S.a,[[3,S.a]]),A._18(512,L.b,L.b,[]),A._18(512,L.a,L.a,[]),A._18(512,P.e,P.e,[]),A._18(512,h,h,[])])}),O=e("/oeL"),k=e("fc+i");s.production&&Object(O.U)(),Object(k.j)().bootstrapModuleFactory(C)},gFIY:function(t,n){function e(t){return new Promise(function(n,e){e(new Error("Cannot find module '"+t+"'."))})}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="gFIY"}},[0]);