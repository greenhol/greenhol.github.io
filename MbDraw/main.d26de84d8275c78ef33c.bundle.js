webpackJsonp([1],{0:function(n,t,i){n.exports=i("cDNt")},cDNt:function(n,t,i){"use strict";function o(n){return S._25(0,[(n()(),S._8(0,0,null,null,3,"option",[],null,null,null,null,null)),S._6(1,147456,null,0,M.f,[S.k,S.G,[2,M.g]],{ngValue:[0,"ngValue"]},null),S._6(2,147456,null,0,M.j,[S.k,S.G,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),S._24(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit),n(t,2,0,t.context.$implicit)},function(n,t){n(t,3,0,t.context.$implicit.displayName)})}function e(n){return S._25(0,[(n()(),S._8(0,0,null,null,3,"option",[],null,null,null,null,null)),S._6(1,147456,null,0,M.f,[S.k,S.G,[2,M.g]],{ngValue:[0,"ngValue"]},null),S._6(2,147456,null,0,M.j,[S.k,S.G,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),S._24(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit),n(t,2,0,t.context.$implicit)},function(n,t){n(t,3,0,t.context.$implicit.displayName)})}function l(n){return S._25(0,[S._22(402653184,1,{canvasArea:0}),(n()(),S._8(1,0,null,null,29,"div",[["class","buttonArea"]],null,null,null,null,null)),(n()(),S._24(-1,null,["\n        "])),(n()(),S._8(3,0,null,null,1,"div",[["class","control button"]],null,[[null,"click"]],function(n,t,i){var o=!0,e=n.component;if("click"===t){o=!1!==e.onSaveButtonClick()&&o}return o},null,null)),(n()(),S._24(-1,null,["Download"])),(n()(),S._24(-1,null,["\n        "])),(n()(),S._8(6,0,null,null,1,"div",[["class","control button"]],null,[[null,"click"]],function(n,t,i){var o=!0,e=n.component;if("click"===t){o=!1!==e.onResetButtonClick()&&o}return o},null,null)),(n()(),S._24(-1,null,["Reset"])),(n()(),S._24(-1,null,["\n        "])),(n()(),S._8(9,0,null,null,9,"select",[["class","control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,t,i){var o=!0,e=n.component;if("change"===t){o=!1!==S._20(n,10).onChange(i.target.value)&&o}if("blur"===t){o=!1!==S._20(n,10).onTouched()&&o}if("ngModelChange"===t){o=!1!==(e.ratio=i)&&o}if("ngModelChange"===t){o=!1!==e.onRatioChange(i)&&o}return o},null,null)),S._6(10,16384,null,0,M.g,[S.G,S.k],null,null),S._21(1024,null,M.b,function(n){return[n]},[M.g]),S._6(12,671744,null,0,M.e,[[8,null],[8,null],[8,null],[2,M.b]],{model:[0,"model"]},{update:"ngModelChange"}),S._21(2048,null,M.c,null,[M.e]),S._6(14,16384,null,0,M.d,[M.c],null,null),(n()(),S._24(-1,null,["\n                "])),(n()(),S._2(16777216,null,null,1,null,o)),S._6(17,802816,null,0,E.c,[S.Q,S.N,S.t],{ngForOf:[0,"ngForOf"]},null),(n()(),S._24(-1,null,["\n        "])),(n()(),S._24(-1,null,["\n        "])),(n()(),S._8(20,0,null,null,9,"select",[["class","control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,t,i){var o=!0,e=n.component;if("change"===t){o=!1!==S._20(n,21).onChange(i.target.value)&&o}if("blur"===t){o=!1!==S._20(n,21).onTouched()&&o}if("ngModelChange"===t){o=!1!==(e.resolution=i)&&o}if("ngModelChange"===t){o=!1!==e.onResolutionChange(i)&&o}return o},null,null)),S._6(21,16384,null,0,M.g,[S.G,S.k],null,null),S._21(1024,null,M.b,function(n){return[n]},[M.g]),S._6(23,671744,null,0,M.e,[[8,null],[8,null],[8,null],[2,M.b]],{model:[0,"model"]},{update:"ngModelChange"}),S._21(2048,null,M.c,null,[M.e]),S._6(25,16384,null,0,M.d,[M.c],null,null),(n()(),S._24(-1,null,["\n                "])),(n()(),S._2(16777216,null,null,1,null,e)),S._6(28,802816,null,0,E.c,[S.Q,S.N,S.t],{ngForOf:[0,"ngForOf"]},null),(n()(),S._24(-1,null,["\n        "])),(n()(),S._24(-1,null,["\n"])),(n()(),S._24(-1,null,["\n"])),(n()(),S._8(32,0,[[1,0],["canvasArea",1]],null,2,"canvas",[["class","canvasArea"]],null,[[null,"mbTouchMe"],[null,"mousewheel"],[null,"pointerdown"],[null,"pointerup"]],function(n,t,i){var o=!0,e=n.component;if("pointerdown"===t){o=!1!==S._20(n,33).onPointerDown(i)&&o}if("pointerup"===t){o=!1!==S._20(n,33).onPointerUp()&&o}if("mbTouchMe"===t){o=!1!==e.onTouched(i)&&o}if("mousewheel"===t){o=!1!==e.onMouseWheelChrome(i)&&o}return o},null,null)),S._6(33,147456,null,0,z,[],null,{mbTouchMe:"mbTouchMe"}),(n()(),S._24(-1,null,["\n"])),(n()(),S._24(-1,null,["\n"]))],function(n,t){var i=t.component;n(t,12,0,i.ratio),n(t,17,0,i.ratios),n(t,23,0,i.resolution),n(t,28,0,i.resolutions)},function(n,t){n(t,9,0,S._20(t,14).ngClassUntouched,S._20(t,14).ngClassTouched,S._20(t,14).ngClassPristine,S._20(t,14).ngClassDirty,S._20(t,14).ngClassValid,S._20(t,14).ngClassInvalid,S._20(t,14).ngClassPending),n(t,20,0,S._20(t,25).ngClassUntouched,S._20(t,25).ngClassTouched,S._20(t,25).ngClassPristine,S._20(t,25).ngClassDirty,S._20(t,25).ngClassValid,S._20(t,25).ngClassInvalid,S._20(t,25).ngClassPending)})}function r(n){return S._25(0,[(n()(),S._8(0,0,null,null,1,"mb-draw-area",[],null,null,null,l,A)),S._6(1,114688,null,0,x,[S.k],null,null)],function(n,t){n(t,1,0)},null)}function a(n){return I._25(0,[(n()(),I._8(0,0,null,null,1,"mb-draw-area",[],null,null,null,l,A)),I._6(1,114688,null,0,x,[I.k],null,null)],function(n,t){n(t,1,0)},null)}function u(n){return I._25(0,[(n()(),I._8(0,0,null,null,1,"mb-root",[],null,null,null,a,O)),I._6(1,49152,null,0,g,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var s,c={production:!0},h=function(){function n(){}return n}(),g=function(){function n(){}return n}(),f=["*[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px}"],d=[".canvasArea{border:1px solid #000}.buttonArea{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:8px}.control{width:100px;background-color:#d3d3d3;border:1px solid #000;margin-right:5px;text-align:center}.button{padding:5px 20px}"],_={_16x9:{factorWidth:16,factorHeight:9,zStart:{real:-3,imag:-1.35},zEnd:{real:1.8,imag:1.35},xs:{width:800,height:450},s:{width:1280,height:720},m:{width:1920,height:1080},l:{width:3840,height:2160},xl:{width:7680,height:4320}},_16x10:{factorWidth:16,factorHeight:10,zStart:{real:-3,imag:-1.5},zEnd:{real:1.8,imag:1.5},xs:{width:800,height:500},s:{width:1280,height:800},m:{width:1920,height:1200},l:{width:3840,height:2400},xl:{width:7680,height:4800}},_48x10:{factorWidth:48,factorHeight:10,zStart:{real:-10,imag:-1.5},zEnd:{real:4.4,imag:1.5},xs:{width:1920,height:400},s:{width:3840,height:800},m:{width:5760,height:1200},l:{width:11520,height:2400},xl:{width:17280,height:3600}}},p=[{id:"16x9",displayName:"16 : 9",ratio:_._16x9},{id:"16x10",displayName:"16 : 10",ratio:_._16x10},{id:"48x10",displayName:"48 : 10",ratio:_._48x10}],m=[{id:"xs",displayName:"XS"},{id:"s",displayName:"S"},{id:"m",displayName:"M"},{id:"l",displayName:"L"},{id:"xl",displayName:"XL"}],b=function(){function n(t){if(this._colors=[],this._config=t,this._intervalCount=this._config.colorSteps.length-1,this._config.intervalSize<1||this._intervalCount<1)throw new Error("intervalSize invalid");this._intervalsEnd=this._intervalCount*this._config.intervalSize;for(var i=0;i<this._config.colorSteps.length-1;i++)for(var o=this._config.colorSteps[i],e=this._config.colorSteps[i+1],l=n.evaluateInterval(i*this._config.intervalSize,(i+1)*this._config.intervalSize,o.r,e.r),r=n.evaluateInterval(i*this._config.intervalSize,(i+1)*this._config.intervalSize,o.g,e.g),a=n.evaluateInterval(i*this._config.intervalSize,(i+1)*this._config.intervalSize,o.b,e.b),u=0;u<l.length;u++)this._colors.push({r:Math.round(l[u]),g:Math.round(r[u]),b:Math.round(a[u])})}return n.evaluateInterval=function(n,t,i,o){if(i==o)return Array.apply(null,{length:t-n}).map(function(){return i});for(var e=[],l=n;l<t;l++)e.push(.5*((i-o)*Math.cos(Math.PI*(l-n)/(n-t))+i+o));return e},n.pad=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configAsString",{get:function(){var t="",i=(""+this._colors.length).length;return t+="_Offset_"+n.pad(this._config.offset,i)},enumerable:!0,configurable:!0}),n.prototype.getColor=function(n){if(n===1/0)return{r:0,g:0,b:0};n+=this._config.offset;var t=n%this._intervalsEnd;return this._colors[t]},n.prototype.print=function(){var n=this,t=0,i=0;this._colors.forEach(function(o){0==t&&console.log("INTERVAL "+i++),console.log(o),t++,t%=n._config.intervalSize})},n}(),v=i("/oeL");!function(n){n[n.SINGLE_TAP=0]="SINGLE_TAP",n[n.DOUBLE_TAP=1]="DOUBLE_TAP",n[n.LONG_TAP=2]="LONG_TAP"}(s||(s={}));var y;!function(n){n[n.IDLE=0]="IDLE",n[n.ACTIVE=1]="ACTIVE",n[n.DONE=2]="DONE"}(y||(y={}));var z=function(){function n(){this.state=y.IDLE,this.pointerCnt=0,this.timerRef=0,this.mbTouchMe=new v.m}return n.prototype.ngOnDestroy=function(){clearTimeout(this.timerRef)},n.prototype.onPointerDown=function(n){var t=this;this.pointerCnt||(this.pointerCnt++,this.lastPointerEvent=n,this.isActive?(this.finish(),this.emitTouch(s.DOUBLE_TAP),this.reset()):(this.activate(),this.timerRef=setTimeout(function(){t.emitTouch(s.LONG_TAP),t.finish()},251)))},n.prototype.onPointerUp=function(n){var t=this;1===this.pointerCnt&&(this.pointerCnt--,clearTimeout(this.timerRef),this.isActive&&(this.timerRef=setTimeout(function(){t.finish(),t.emitTouch(s.SINGLE_TAP),t.reset()},251)),this.reset())},n.prototype.activate=function(){this.stateTransfer(y.IDLE,y.ACTIVE)},n.prototype.finish=function(){this.stateTransfer(y.ACTIVE,y.DONE)},n.prototype.reset=function(){this.stateTransfer(y.DONE,y.IDLE)},n.prototype.stateTransfer=function(n,t){this.state===n&&(this.state=t)},Object.defineProperty(n.prototype,"isActive",{get:function(){return this.state===y.ACTIVE},enumerable:!0,configurable:!0}),n.prototype.emitTouch=function(n){this.mbTouchMe.emit({type:n,offsetX:this.lastPointerEvent.offsetX,offsetY:this.lastPointerEvent.offsetY})},n.ctorParameters=function(){return[]},n}(),C=i("/oeL"),w=i("bbdN"),x=(i.n(w),function(){function n(n){this.element=n,this.ratios=p,this.resolutions=m,this.colorMapConfigDefault={colorSteps:[{r:0,g:0,b:0},{r:255,g:255,b:255},{r:0,g:0,b:0}],intervalSize:256,offset:0},this.colorMapConfigSample1={colorSteps:[{r:0,g:0,b:0},{r:128,g:0,b:0},{r:255,g:64,b:0},{r:255,g:128,b:0},{r:255,g:64,b:0},{r:128,g:0,b:0},{r:0,g:0,b:0}],intervalSize:64,offset:0},this.colorMapConfigSample2={colorSteps:[{r:0,g:0,b:0},{r:255,g:0,b:0},{r:255,g:255,b:0},{r:255,g:255,b:255},{r:0,g:255,b:255},{r:0,g:0,b:255},{r:0,g:255,b:0},{r:0,g:0,b:0}],intervalSize:32,offset:0},this.colorMapConfigSample3={colorSteps:[{r:0,g:0,b:0},{r:255,g:0,b:0},{r:255,g:255,b:0},{r:255,g:255,b:255},{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:0,b:0}],intervalSize:128,offset:0};var t;try{t=JSON.parse(window.location.hash.substr(1))}catch(n){t={ratioId:"16x9",resolutionId:"s",zStart:p[0].ratio.zStart,zEnd:p[0].ratio.zEnd,iterations:255,colorMapConfig:this.colorMapConfigDefault}}this.ratio=p.find(function(n){return n.id===t.ratioId}),this.resolution=m.find(function(n){return n.id===t.resolutionId}),this.colorMap=new b(t.colorMapConfig),this.setPlane(t.zStart,t.zEnd,t.iterations)}return n.isInMbMaybe=function(n,t){for(var i,o,e=n.real,l=n.imag,r=0;r<t;r++){if(i=e*e-l*l,o=2*e*l,i+=n.real,o+=n.imag,Math.sqrt(i*i+o*o)>2)return r;e=i,l=o}return 1/0},n.complexCenter=function(n,t){return{real:(n.real+t.real)/2,imag:(n.imag+t.imag)/2}},n.complexRange=function(n,t){return{real:Math.abs(n.real-t.real),imag:Math.abs(n.imag-t.imag)}},Object.defineProperty(n.prototype,"size",{get:function(){return this.ratio.ratio[this.resolution.id]},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.canvasArea.nativeElement.width=this.size.width,this.canvasArea.nativeElement.height=this.size.height,this.calcAndDraw()},n.prototype.onMouseWheelChrome=function(n){var t=n.deltaY<0,i={x:n.offsetX,y:n.offsetY};t?this.zoomIn(i):this.zoomOut(i)},n.prototype.onTouched=function(n){switch(console.log("event ",n),n.type){case s.SINGLE_TAP:this.panZoom({x:n.offsetX,y:n.offsetY},1,this.config.iterations);break;case s.DOUBLE_TAP:this.zoomIn({x:n.offsetX,y:n.offsetY});break;case s.LONG_TAP:this.zoomOut({x:n.offsetX,y:n.offsetY})}},n.prototype.onSaveButtonClick=function(){var n=this;this.canvasArea.nativeElement.toBlob(function(t){var i="MB_zStart_r_"+n.config.zStart.real+"_i_"+n.config.zStart.imag+"_zEnd_r_"+n.config.zEnd.real+"_i_"+n.config.zEnd.imag+"_iterations_"+n.config.iterations+"_colorMapConfig_"+n.colorMap.configAsString+".png";console.info("Saving as: "+i),Object(w.saveAs)(t,i)})},n.prototype.onResetButtonClick=function(){window.location.href=window.location.pathname},n.prototype.onRatioChange=function(t){console.log("new ratio: ",this.ratio),this.config.ratioId=t.id;var i=n.complexCenter(this.config.zStart,this.config.zEnd),o=n.complexRange(this.config.zStart,this.config.zEnd),e=o.imag/t.ratio.factorHeight;this.config.zStart={real:i.real-e*t.ratio.factorWidth/2,imag:this.config.zStart.imag},this.config.zEnd={real:i.real+e*t.ratio.factorWidth/2,imag:this.config.zEnd.imag},this.persistConfig(),window.location.reload()},n.prototype.onResolutionChange=function(n){console.log("new resolution: ",this.resolution),this.config.resolutionId=n.id,this.persistConfig(),window.location.reload()},n.prototype.calcAndDraw=function(){var t=this.canvasArea.nativeElement.getContext("2d"),i=t.getImageData(0,0,this.size.width,this.size.height),o=new ArrayBuffer(i.data.length),e=new Uint8ClampedArray(o),l=new Uint32Array(o),r=0;console.clear();for(var a=0;a<this.size.height;a++){r>99&&(console.info("calculating: "+Math.round(100*a/this.size.height)+"%"),r=0),r++;for(var u=0;u<this.size.width;u++){var s=this.pixelToMath({x:u,y:a}),c=this.colorMap.getColor(n.isInMbMaybe(s,this.config.iterations));l[a*this.size.width+u]=255<<24|c.b<<16|c.g<<8|c.r}}i.data.set(e),t.putImageData(i,0,0)},n.prototype.zoomIn=function(n){this.panZoom(n,.5,this.config.iterations+=32)},n.prototype.zoomOut=function(n){this.panZoom(n,2,this.config.iterations-32<255?this.config.iterations-=0:this.config.iterations-=32)},n.prototype.panZoom=function(n,t,i){var o=t*this.size.width/2,e=t*this.size.height/2,l={x:n.x-o,y:n.y+e},r={x:n.x+o,y:n.y-e};this.setPlane(this.pixelToMath(l),this.pixelToMath(r),i),this.calcAndDraw()},n.prototype.setPlane=function(n,t,i){this.config={ratioId:this.ratio.id,resolutionId:this.resolution.id,zStart:n,zEnd:t,iterations:i,colorMapConfig:this.colorMap.config},this.zRange={real:t.real-n.real,imag:t.imag-n.imag},this.persistConfig()},n.prototype.persistConfig=function(){var n={ratioId:this.ratio.id,resolutionId:this.resolution.id,zStart:this.config.zStart,zEnd:this.config.zEnd,iterations:this.config.iterations,colorMapConfig:this.colorMap.config};window.location.hash=JSON.stringify(n)},n.prototype.pixelToMath=function(n){return{real:this.zRange.real*n.x/this.size.width+this.config.zStart.real,imag:this.config.zEnd.imag-this.zRange.imag*n.y/this.size.height}},n.ctorParameters=function(){return[{type:C.k}]},n}()),S=i("/oeL"),M=i("bm2B"),E=i("qbdv"),T=[d],A=S._5({encapsulation:2,styles:T,data:{}}),I=(S._3("mb-draw-area",x,r,{},{},[]),i("/oeL")),P=[f],O=I._5({encapsulation:0,styles:P,data:{}}),N=I._3("mb-root",g,u,{},{},[]),D=i("/oeL"),L=i("qbdv"),k=i("fc+i"),R=i("bm2B"),V=i("CPp0"),G=D._4(h,[g],function(n){return D._18([D._19(512,D.i,D._0,[[8,[N]],[3,D.i],D.x]),D._19(5120,D.v,D._17,[[3,D.v]]),D._19(4608,L.e,L.d,[D.v]),D._19(4608,D.h,D.h,[]),D._19(5120,D.a,D._9,[]),D._19(5120,D.t,D._14,[]),D._19(5120,D.u,D._15,[]),D._19(4608,k.b,k.s,[L.b]),D._19(6144,D.J,null,[k.b]),D._19(4608,k.e,k.f,[]),D._19(5120,k.c,function(n,t,i,o){return[new k.k(n),new k.o(t),new k.n(i,o)]},[L.b,L.b,L.b,k.e]),D._19(4608,k.d,k.d,[k.c,D.z]),D._19(135680,k.m,k.m,[L.b]),D._19(4608,k.l,k.l,[k.d,k.m]),D._19(6144,D.H,null,[k.l]),D._19(6144,k.p,null,[k.m]),D._19(4608,D.O,D.O,[D.z]),D._19(4608,k.g,k.g,[L.b]),D._19(4608,k.i,k.i,[L.b]),D._19(4608,R.i,R.i,[]),D._19(4608,V.c,V.c,[]),D._19(4608,V.g,V.b,[]),D._19(5120,V.i,V.j,[]),D._19(4608,V.h,V.h,[V.c,V.g,V.i]),D._19(4608,V.f,V.a,[]),D._19(5120,V.d,V.k,[V.h,V.f]),D._19(512,L.a,L.a,[]),D._19(1024,D.l,k.q,[]),D._19(1024,D.b,function(n,t){return[k.r(n,t)]},[[2,k.h],[2,D.y]]),D._19(512,D.c,D.c,[[2,D.b]]),D._19(131584,D._7,D._7,[D.z,D._1,D.r,D.l,D.i,D.c]),D._19(2048,D.e,null,[D._7]),D._19(512,D.d,D.d,[D.e]),D._19(512,k.a,k.a,[[3,k.a]]),D._19(512,R.h,R.h,[]),D._19(512,R.a,R.a,[]),D._19(512,V.e,V.e,[]),D._19(512,h,h,[])])}),B=i("/oeL"),j=i("fc+i");c.production&&Object(B.U)(),Object(j.j)().bootstrapModuleFactory(G)},gFIY:function(n,t){function i(n){return new Promise(function(t,i){i(new Error("Cannot find module '"+n+"'."))})}i.keys=function(){return[]},i.resolve=i,n.exports=i,i.id="gFIY"}},[0]);